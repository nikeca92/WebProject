CREATE TABLE PMIS_RES.PostponeItems(PostponeItemID number NOT NULL,
                                    PostponeID number NOT NULL,
                                    CompanyID number NOT NULL,
                                    ManageOfficersTotal number,
                                    ManageOfficersAbsolutely number,
                                    ManageSoldiersTotal number,
                                    ManageSoldiersAbsolutely number,
                                    ExpertOfficersTotal number,
                                    ExpertOfficersAbsolutely number,
                                    ExpertSoldiersTotal number,
                                    ExpertSoldiersAbsolutely number,
                                    TechOfficersTotal number,
                                    TechOfficersAbsolutely number,
                                    TechSoldiersTotal number,
                                    TechSoldiersAbsolutely number
                                    );

ALTER TABLE PMIS_RES.PostponeItems ADD CONSTRAINT PostponeItems_PK PRIMARY KEY (PostponeItemID);
ALTER TABLE PMIS_RES.PostponeItems ADD CONSTRAINT PostponeItems_UNQ UNIQUE (PostponeID, CompanyID);
ALTER TABLE PMIS_RES.PostponeItems ADD CONSTRAINT PostponeItems_Postpone_FK FOREIGN KEY (PostponeID) REFERENCES PMIS_RES.Postpone (PostponeID);
ALTER TABLE PMIS_RES.PostponeItems ADD CONSTRAINT PostponeItems_Companies_FK FOREIGN KEY (CompanyID) REFERENCES PMIS_ADM.Companies (CompanyID);

CREATE SEQUENCE PMIS_RES.PostponeItems_ID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

CREATE TRIGGER PMIS_RES.TRG_PostponeItems_INSERT
BEFORE INSERT ON PMIS_RES.PostponeItems
FOR EACH ROW
BEGIN
   SELECT PMIS_RES.PostponeItems_ID_SEQ.nextval INTO :new.PostponeItemID FROM dual;
END;
/
