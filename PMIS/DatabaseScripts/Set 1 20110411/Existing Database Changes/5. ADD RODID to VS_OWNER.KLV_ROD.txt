ALTER TABLE VS_OWNER.KLV_ROD ADD RODID number;

ALTER TABLE VS_OWNER.KLV_ROD ADD CONSTRAINT RODID_UNQ UNIQUE (RODID);

CREATE SEQUENCE VS_OWNER.KLV_ROD_RODID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

CREATE OR REPLACE TRIGGER VS_OWNER.TRG_KLV_ROD_INSERT
BEFORE INSERT ON VS_OWNER.KLV_ROD
FOR EACH ROW
BEGIN
   SELECT VS_OWNER.KLV_ROD_RODID_SEQ.nextval INTO :new.RODID FROM dual;
END;
/

UPDATE VS_OWNER.KLV_ROD SET RODID = VS_OWNER.KLV_ROD_RODID_SEQ.nextval;

COMMIT;
/

ALTER TABLE VS_OWNER.KLV_ROD MODIFY (RODID number NOT NULL);
/