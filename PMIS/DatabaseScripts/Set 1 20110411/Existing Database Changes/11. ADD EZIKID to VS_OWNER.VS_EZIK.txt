ALTER TABLE VS_OWNER.VS_EZIK ADD EZIKID number;

ALTER TABLE VS_OWNER.VS_EZIK ADD CONSTRAINT EZIKID_UNQ UNIQUE (EZIKID);

CREATE SEQUENCE VS_OWNER.VS_EZIK_EZIKID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

UPDATE VS_OWNER.VS_EZIK SET EZIKID = VS_OWNER.VS_EZIK_EZIKID_SEQ.nextval;

CREATE TRIGGER VS_OWNER.TRG_VS_EZIK_INSERT
BEFORE INSERT ON VS_OWNER.VS_EZIK
FOR EACH ROW
BEGIN
   SELECT VS_OWNER.VS_EZIK_EZIKID_SEQ.nextval INTO :new.EZIKID FROM dual;
END;
/

COMMIT;
/

ALTER TABLE VS_OWNER.VS_EZIK MODIFY (EZIKID number NOT NULL);
/
