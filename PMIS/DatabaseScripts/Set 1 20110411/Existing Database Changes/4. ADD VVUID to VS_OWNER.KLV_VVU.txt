ALTER TABLE VS_OWNER.KLV_VVU ADD VVUID number;
ALTER TABLE VS_OWNER.KLV_VVU ADD IsActive number(1) CHECK (IsActive BETWEEN 0 AND 1);

ALTER TABLE VS_OWNER.KLV_VVU ADD CONSTRAINT VVUID_UNQ UNIQUE (VVUID);

CREATE SEQUENCE VS_OWNER.KLV_VVU_VVUID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

UPDATE VS_OWNER.KLV_VVU SET VVUID = VS_OWNER.KLV_VVU_VVUID_SEQ.nextval;
UPDATE VS_OWNER.KLV_VVU SET IsActive = 1;

CREATE TRIGGER VS_OWNER.TRG_KLV_VVU_INSERT
BEFORE INSERT ON VS_OWNER.KLV_VVU
FOR EACH ROW
BEGIN
   SELECT VS_OWNER.KLV_VVU_VVUID_SEQ.nextval INTO :new.VVUID FROM dual;
END;
/

COMMIT;
/

ALTER TABLE VS_OWNER.KLV_VVU MODIFY (VVUID number NOT NULL, 
                                     IsActive number(1) DEFAULT 1 NOT NULL CHECK (IsActive BETWEEN 0 AND 1));
/