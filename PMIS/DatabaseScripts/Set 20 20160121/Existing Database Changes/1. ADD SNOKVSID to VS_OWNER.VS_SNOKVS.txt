ALTER TABLE VS_OWNER.VS_SNOKVS ADD SNOKVSID number;

ALTER TABLE VS_OWNER.VS_SNOKVS ADD CONSTRAINT SNOKVSID_UNQ UNIQUE (SNOKVSID);

CREATE SEQUENCE VS_OWNER.VS_SNOKVS_SNOKVSID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

UPDATE VS_OWNER.VS_SNOKVS SET SNOKVSID = VS_OWNER.VS_SNOKVS_SNOKVSID_SEQ.nextval;

CREATE TRIGGER VS_OWNER.TRG_VS_SNOKVS_INSERT
BEFORE INSERT ON VS_OWNER.VS_SNOKVS
FOR EACH ROW
BEGIN
   SELECT VS_OWNER.VS_SNOKVS_SNOKVSID_SEQ.nextval INTO :new.SNOKVSID FROM dual;
END;
/

COMMIT;
/

ALTER TABLE VS_OWNER.VS_SNOKVS MODIFY (SNOKVSID number NOT NULL);
/
