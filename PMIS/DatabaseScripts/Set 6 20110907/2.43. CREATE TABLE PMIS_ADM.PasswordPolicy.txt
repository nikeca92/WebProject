CREATE TABLE PMIS_ADM.PasswordPolicy(PasswordPolicyID number NOT NULL,
                                     AllowBlankSpace number(1) NOT NULL CHECK (AllowBlankSpace BETWEEN 0 AND 1),
									 CaseSensitivity number(1) NOT NULL CHECK (CaseSensitivity BETWEEN 0 AND 1),
									 LetterChars number,
									 LowerCaseChars number,
									 UpperCaseChars number,
									 NumericChars number,
									 SpecialChars number,
									 ExpiresAfterDays number,
									 CannotReusePrevPasswords number,
									 BlockUserAfterFailedLogins number,
									 MinLenght number
								     );

ALTER TABLE PMIS_ADM.PasswordPolicy ADD CONSTRAINT PasswordPolicy_PK PRIMARY KEY(PasswordPolicyID);

CREATE SEQUENCE PMIS_ADM.PasswordPolicy_ID_SEQ
START WITH 1 
INCREMENT BY 1 
NOMAXVALUE;

CREATE TRIGGER PMIS_ADM.TRG_PasswordPolicy_INSERT
BEFORE INSERT ON PMIS_ADM.PasswordPolicy
FOR EACH ROW
BEGIN
   SELECT PMIS_ADM.PasswordPolicy_ID_SEQ.nextval INTO :new.PasswordPolicyID FROM dual;
END;
/

INSERT INTO PMIS_ADM.PasswordPolicy (AllowBlankSpace,
                                     CaseSensitivity, 
                                     LetterChars,
									 LowerCaseChars,
									 UpperCaseChars,
									 NumericChars,
									 SpecialChars,
									 ExpiresAfterDays,
									 CannotReusePrevPasswords,
									 BlockUserAfterFailedLogins,
									 MinLenght)
VALUES (1, 1, NULL, 1, 1, 1, NULL, 90, 10, 3, 8);

COMMIT;
/